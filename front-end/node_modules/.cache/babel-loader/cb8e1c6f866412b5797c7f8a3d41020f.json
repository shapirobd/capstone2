{"ast":null,"code":"import moment from \"moment\";\nimport convertDate from \"../../../helpers/convertDate\";\nimport { WEEKDAYS, WEEKLY_COLORS } from \"../../../constants\";\nimport { getDailyMacros, getDateMacros } from \"../helpers/dailyHelpers\";\nexport const getWeeklyMacros = weekData => {\n  Object.keys(weekData).map(date => console.log(date));\n  return {\n    labels: WEEKDAYS,\n    datasets: [{\n      label: \"Carbohydrates\",\n      data: weekData ? Object.keys(weekData).map(date => weekData[date].carbs) : [0, 0, 0, 0, 0, 0, 0],\n      backgroundColor: WEEKLY_COLORS.carbs\n    }, {\n      label: \"Fat\",\n      data: weekData ? Object.keys(weekData).map(date => weekData[date].fat) : [0, 0, 0, 0, 0, 0, 0],\n      backgroundColor: WEEKLY_COLORS.fat\n    }, {\n      label: \"Protein\",\n      data: weekData ? Object.keys(weekData).map(date => weekData[date].protein) : [0, 0, 0, 0, 0, 0, 0],\n      backgroundColor: WEEKLY_COLORS.protein\n    }]\n  };\n};\nexport const getWeekNumber = calendarDate => {\n  return moment(convertDate(calendarDate), \"YYYY-MM-DD\").week();\n};\nexport const getWeekDates = calendarDate => {\n  return [0, 1, 2, 3, 4, 5, 6].map(d => convertDate(moment(`${convertDate(calendarDate).substring(0, 4)}-${getWeekNumber(calendarDate)}-` + d, \"YYYY-w-e\")[\"_d\"]));\n};\nexport const updateWeekData = async (user, weekData, date) => {\n  const dateMacros = await getDateMacros(user, \"week\", date);\n  weekData[date] = dateMacros;\n};\nexport const getWeekMacros = async (user, weekDates, setWeekState) => {\n  let weekData = {};\n\n  for (let date of weekDates) {\n    await updateWeekData(user, weekData, date);\n  }\n\n  setWeekState(weekState => ({ ...weekState,\n    weekData\n  }));\n};","map":{"version":3,"sources":["/Users/briand.shapiro/Desktop/Springboard/capstone2/front-end/src/components/tracker/helpers/weeklyHelpers.js"],"names":["moment","convertDate","WEEKDAYS","WEEKLY_COLORS","getDailyMacros","getDateMacros","getWeeklyMacros","weekData","Object","keys","map","date","console","log","labels","datasets","label","data","carbs","backgroundColor","fat","protein","getWeekNumber","calendarDate","week","getWeekDates","d","substring","updateWeekData","user","dateMacros","getWeekMacros","weekDates","setWeekState","weekState"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AACA,SAASC,QAAT,EAAmBC,aAAnB,QAAwC,oBAAxC;AACA,SAASC,cAAT,EAAyBC,aAAzB,QAA8C,yBAA9C;AAEA,OAAO,MAAMC,eAAe,GAAIC,QAAD,IAAc;AAC5CC,EAAAA,MAAM,CAACC,IAAP,CAAYF,QAAZ,EAAsBG,GAAtB,CAA2BC,IAAD,IAAUC,OAAO,CAACC,GAAR,CAAYF,IAAZ,CAApC;AACA,SAAO;AACNG,IAAAA,MAAM,EAAEZ,QADF;AAENa,IAAAA,QAAQ,EAAE,CACT;AACCC,MAAAA,KAAK,EAAE,eADR;AAECC,MAAAA,IAAI,EAAEV,QAAQ,GACXC,MAAM,CAACC,IAAP,CAAYF,QAAZ,EAAsBG,GAAtB,CAA2BC,IAAD,IAAUJ,QAAQ,CAACI,IAAD,CAAR,CAAeO,KAAnD,CADW,GAEX,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAJJ;AAKCC,MAAAA,eAAe,EAAEhB,aAAa,CAACe;AALhC,KADS,EAQT;AACCF,MAAAA,KAAK,EAAE,KADR;AAECC,MAAAA,IAAI,EAAEV,QAAQ,GACXC,MAAM,CAACC,IAAP,CAAYF,QAAZ,EAAsBG,GAAtB,CAA2BC,IAAD,IAAUJ,QAAQ,CAACI,IAAD,CAAR,CAAeS,GAAnD,CADW,GAEX,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAJJ;AAKCD,MAAAA,eAAe,EAAEhB,aAAa,CAACiB;AALhC,KARS,EAeT;AACCJ,MAAAA,KAAK,EAAE,SADR;AAECC,MAAAA,IAAI,EAAEV,QAAQ,GACXC,MAAM,CAACC,IAAP,CAAYF,QAAZ,EAAsBG,GAAtB,CAA2BC,IAAD,IAAUJ,QAAQ,CAACI,IAAD,CAAR,CAAeU,OAAnD,CADW,GAEX,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAJJ;AAKCF,MAAAA,eAAe,EAAEhB,aAAa,CAACkB;AALhC,KAfS;AAFJ,GAAP;AA0BA,CA5BM;AA8BP,OAAO,MAAMC,aAAa,GAAIC,YAAD,IAAkB;AAC9C,SAAOvB,MAAM,CAACC,WAAW,CAACsB,YAAD,CAAZ,EAA4B,YAA5B,CAAN,CAAgDC,IAAhD,EAAP;AACA,CAFM;AAIP,OAAO,MAAMC,YAAY,GAAIF,YAAD,IAAkB;AAC7C,SAAO,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsBb,GAAtB,CAA2BgB,CAAD,IAChCzB,WAAW,CACVD,MAAM,CACJ,GAAEC,WAAW,CAACsB,YAAD,CAAX,CAA0BI,SAA1B,CAAoC,CAApC,EAAuC,CAAvC,CAA0C,IAAGL,aAAa,CAC5DC,YAD4D,CAE3D,GAFF,GAEOG,CAHF,EAIL,UAJK,CAAN,CAKE,IALF,CADU,CADL,CAAP;AAUA,CAXM;AAaP,OAAO,MAAME,cAAc,GAAG,OAAOC,IAAP,EAAatB,QAAb,EAAuBI,IAAvB,KAAgC;AAC7D,QAAMmB,UAAU,GAAG,MAAMzB,aAAa,CAACwB,IAAD,EAAO,MAAP,EAAelB,IAAf,CAAtC;AACAJ,EAAAA,QAAQ,CAACI,IAAD,CAAR,GAAiBmB,UAAjB;AACA,CAHM;AAKP,OAAO,MAAMC,aAAa,GAAG,OAAOF,IAAP,EAAaG,SAAb,EAAwBC,YAAxB,KAAyC;AACrE,MAAI1B,QAAQ,GAAG,EAAf;;AACA,OAAK,IAAII,IAAT,IAAiBqB,SAAjB,EAA4B;AAC3B,UAAMJ,cAAc,CAACC,IAAD,EAAOtB,QAAP,EAAiBI,IAAjB,CAApB;AACA;;AACDsB,EAAAA,YAAY,CAAEC,SAAD,KAAgB,EAC5B,GAAGA,SADyB;AAE5B3B,IAAAA;AAF4B,GAAhB,CAAD,CAAZ;AAIA,CATM","sourcesContent":["import moment from \"moment\";\nimport convertDate from \"../../../helpers/convertDate\";\nimport { WEEKDAYS, WEEKLY_COLORS } from \"../../../constants\";\nimport { getDailyMacros, getDateMacros } from \"../helpers/dailyHelpers\";\n\nexport const getWeeklyMacros = (weekData) => {\n\tObject.keys(weekData).map((date) => console.log(date));\n\treturn {\n\t\tlabels: WEEKDAYS,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\tlabel: \"Carbohydrates\",\n\t\t\t\tdata: weekData\n\t\t\t\t\t? Object.keys(weekData).map((date) => weekData[date].carbs)\n\t\t\t\t\t: [0, 0, 0, 0, 0, 0, 0],\n\t\t\t\tbackgroundColor: WEEKLY_COLORS.carbs,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Fat\",\n\t\t\t\tdata: weekData\n\t\t\t\t\t? Object.keys(weekData).map((date) => weekData[date].fat)\n\t\t\t\t\t: [0, 0, 0, 0, 0, 0, 0],\n\t\t\t\tbackgroundColor: WEEKLY_COLORS.fat,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Protein\",\n\t\t\t\tdata: weekData\n\t\t\t\t\t? Object.keys(weekData).map((date) => weekData[date].protein)\n\t\t\t\t\t: [0, 0, 0, 0, 0, 0, 0],\n\t\t\t\tbackgroundColor: WEEKLY_COLORS.protein,\n\t\t\t},\n\t\t],\n\t};\n};\n\nexport const getWeekNumber = (calendarDate) => {\n\treturn moment(convertDate(calendarDate), \"YYYY-MM-DD\").week();\n};\n\nexport const getWeekDates = (calendarDate) => {\n\treturn [0, 1, 2, 3, 4, 5, 6].map((d) =>\n\t\tconvertDate(\n\t\t\tmoment(\n\t\t\t\t`${convertDate(calendarDate).substring(0, 4)}-${getWeekNumber(\n\t\t\t\t\tcalendarDate\n\t\t\t\t)}-` + d,\n\t\t\t\t\"YYYY-w-e\"\n\t\t\t)[\"_d\"]\n\t\t)\n\t);\n};\n\nexport const updateWeekData = async (user, weekData, date) => {\n\tconst dateMacros = await getDateMacros(user, \"week\", date);\n\tweekData[date] = dateMacros;\n};\n\nexport const getWeekMacros = async (user, weekDates, setWeekState) => {\n\tlet weekData = {};\n\tfor (let date of weekDates) {\n\t\tawait updateWeekData(user, weekData, date);\n\t}\n\tsetWeekState((weekState) => ({\n\t\t...weekState,\n\t\tweekData,\n\t}));\n};\n"]},"metadata":{},"sourceType":"module"}