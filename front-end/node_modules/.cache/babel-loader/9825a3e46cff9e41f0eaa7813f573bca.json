{"ast":null,"code":"import moment from \"moment\";\nimport convertDate from \"../../../helpers/convertDate\";\nimport { WEEKDAYS, WEEKLY_COLORS } from \"../../../constants\";\nimport { getDateMacros } from \"../helpers/dailyHelpers\";\nexport const getBarChartData = weekData => {\n  return {\n    labels: WEEKDAYS,\n    datasets: [{\n      label: \"Carbohydrates\",\n      data: weekData ? Object.keys(weekData).map(date => weekData[date].carbs) : [0, 0, 0, 0, 0, 0, 0],\n      backgroundColor: WEEKLY_COLORS.carbs\n    }, {\n      label: \"Fat\",\n      data: weekData ? Object.keys(weekData).map(date => weekData[date].fat) : [0, 0, 0, 0, 0, 0, 0],\n      backgroundColor: WEEKLY_COLORS.fat\n    }, {\n      label: \"Protein\",\n      data: weekData ? Object.keys(weekData).map(date => weekData[date].protein) : [0, 0, 0, 0, 0, 0, 0],\n      backgroundColor: WEEKLY_COLORS.protein\n    }]\n  };\n};\nexport const getWeekNumber = calendarDate => {\n  return moment(convertDate(calendarDate), \"YYYY-MM-DD\").week();\n};\nexport const getWeekDates = calendarDate => {\n  return [0, 1, 2, 3, 4, 5, 6].map(d => convertDate(moment(`${convertDate(calendarDate).substring(0, 4)}-${getWeekNumber(calendarDate)}-` + d, \"YYYY-w-e\")[\"_d\"]));\n};\nexport const updateWeekData = async (user, weekData, date) => {\n  const dateMacros = await getDateMacros(user, \"week\", date);\n  weekData[date] = dateMacros;\n};\nexport const getWeekMacros = async (user, weekDates) => {\n  let weekData = {};\n\n  for (let date of weekDates) {\n    await updateWeekData(user, weekData, date);\n  }\n\n  return weekData;\n};","map":{"version":3,"sources":["/Users/briand.shapiro/Desktop/Springboard/capstone2/back-end/front-end/src/components/tracker/helpers/weeklyHelpers.js"],"names":["moment","convertDate","WEEKDAYS","WEEKLY_COLORS","getDateMacros","getBarChartData","weekData","labels","datasets","label","data","Object","keys","map","date","carbs","backgroundColor","fat","protein","getWeekNumber","calendarDate","week","getWeekDates","d","substring","updateWeekData","user","dateMacros","getWeekMacros","weekDates"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AACA,SAASC,QAAT,EAAmBC,aAAnB,QAAwC,oBAAxC;AACA,SAASC,aAAT,QAA8B,yBAA9B;AAEA,OAAO,MAAMC,eAAe,GAAIC,QAAD,IAAc;AAC5C,SAAO;AACNC,IAAAA,MAAM,EAAEL,QADF;AAENM,IAAAA,QAAQ,EAAE,CACT;AACCC,MAAAA,KAAK,EAAE,eADR;AAECC,MAAAA,IAAI,EAAEJ,QAAQ,GACXK,MAAM,CAACC,IAAP,CAAYN,QAAZ,EAAsBO,GAAtB,CAA2BC,IAAD,IAAUR,QAAQ,CAACQ,IAAD,CAAR,CAAeC,KAAnD,CADW,GAEX,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAJJ;AAKCC,MAAAA,eAAe,EAAEb,aAAa,CAACY;AALhC,KADS,EAQT;AACCN,MAAAA,KAAK,EAAE,KADR;AAECC,MAAAA,IAAI,EAAEJ,QAAQ,GACXK,MAAM,CAACC,IAAP,CAAYN,QAAZ,EAAsBO,GAAtB,CAA2BC,IAAD,IAAUR,QAAQ,CAACQ,IAAD,CAAR,CAAeG,GAAnD,CADW,GAEX,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAJJ;AAKCD,MAAAA,eAAe,EAAEb,aAAa,CAACc;AALhC,KARS,EAeT;AACCR,MAAAA,KAAK,EAAE,SADR;AAECC,MAAAA,IAAI,EAAEJ,QAAQ,GACXK,MAAM,CAACC,IAAP,CAAYN,QAAZ,EAAsBO,GAAtB,CAA2BC,IAAD,IAAUR,QAAQ,CAACQ,IAAD,CAAR,CAAeI,OAAnD,CADW,GAEX,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAJJ;AAKCF,MAAAA,eAAe,EAAEb,aAAa,CAACe;AALhC,KAfS;AAFJ,GAAP;AA0BA,CA3BM;AA6BP,OAAO,MAAMC,aAAa,GAAIC,YAAD,IAAkB;AAC9C,SAAOpB,MAAM,CAACC,WAAW,CAACmB,YAAD,CAAZ,EAA4B,YAA5B,CAAN,CAAgDC,IAAhD,EAAP;AACA,CAFM;AAIP,OAAO,MAAMC,YAAY,GAAIF,YAAD,IAAkB;AAC7C,SAAO,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsBP,GAAtB,CAA2BU,CAAD,IAChCtB,WAAW,CACVD,MAAM,CACJ,GAAEC,WAAW,CAACmB,YAAD,CAAX,CAA0BI,SAA1B,CAAoC,CAApC,EAAuC,CAAvC,CAA0C,IAAGL,aAAa,CAC5DC,YAD4D,CAE3D,GAFF,GAEOG,CAHF,EAIL,UAJK,CAAN,CAKE,IALF,CADU,CADL,CAAP;AAUA,CAXM;AAaP,OAAO,MAAME,cAAc,GAAG,OAAOC,IAAP,EAAapB,QAAb,EAAuBQ,IAAvB,KAAgC;AAC7D,QAAMa,UAAU,GAAG,MAAMvB,aAAa,CAACsB,IAAD,EAAO,MAAP,EAAeZ,IAAf,CAAtC;AACAR,EAAAA,QAAQ,CAACQ,IAAD,CAAR,GAAiBa,UAAjB;AACA,CAHM;AAKP,OAAO,MAAMC,aAAa,GAAG,OAAOF,IAAP,EAAaG,SAAb,KAA2B;AACvD,MAAIvB,QAAQ,GAAG,EAAf;;AACA,OAAK,IAAIQ,IAAT,IAAiBe,SAAjB,EAA4B;AAC3B,UAAMJ,cAAc,CAACC,IAAD,EAAOpB,QAAP,EAAiBQ,IAAjB,CAApB;AACA;;AACD,SAAOR,QAAP;AACA,CANM","sourcesContent":["import moment from \"moment\";\nimport convertDate from \"../../../helpers/convertDate\";\nimport { WEEKDAYS, WEEKLY_COLORS } from \"../../../constants\";\nimport { getDateMacros } from \"../helpers/dailyHelpers\";\n\nexport const getBarChartData = (weekData) => {\n\treturn {\n\t\tlabels: WEEKDAYS,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\tlabel: \"Carbohydrates\",\n\t\t\t\tdata: weekData\n\t\t\t\t\t? Object.keys(weekData).map((date) => weekData[date].carbs)\n\t\t\t\t\t: [0, 0, 0, 0, 0, 0, 0],\n\t\t\t\tbackgroundColor: WEEKLY_COLORS.carbs,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Fat\",\n\t\t\t\tdata: weekData\n\t\t\t\t\t? Object.keys(weekData).map((date) => weekData[date].fat)\n\t\t\t\t\t: [0, 0, 0, 0, 0, 0, 0],\n\t\t\t\tbackgroundColor: WEEKLY_COLORS.fat,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Protein\",\n\t\t\t\tdata: weekData\n\t\t\t\t\t? Object.keys(weekData).map((date) => weekData[date].protein)\n\t\t\t\t\t: [0, 0, 0, 0, 0, 0, 0],\n\t\t\t\tbackgroundColor: WEEKLY_COLORS.protein,\n\t\t\t},\n\t\t],\n\t};\n};\n\nexport const getWeekNumber = (calendarDate) => {\n\treturn moment(convertDate(calendarDate), \"YYYY-MM-DD\").week();\n};\n\nexport const getWeekDates = (calendarDate) => {\n\treturn [0, 1, 2, 3, 4, 5, 6].map((d) =>\n\t\tconvertDate(\n\t\t\tmoment(\n\t\t\t\t`${convertDate(calendarDate).substring(0, 4)}-${getWeekNumber(\n\t\t\t\t\tcalendarDate\n\t\t\t\t)}-` + d,\n\t\t\t\t\"YYYY-w-e\"\n\t\t\t)[\"_d\"]\n\t\t)\n\t);\n};\n\nexport const updateWeekData = async (user, weekData, date) => {\n\tconst dateMacros = await getDateMacros(user, \"week\", date);\n\tweekData[date] = dateMacros;\n};\n\nexport const getWeekMacros = async (user, weekDates) => {\n\tlet weekData = {};\n\tfor (let date of weekDates) {\n\t\tawait updateWeekData(user, weekData, date);\n\t}\n\treturn weekData;\n};\n"]},"metadata":{},"sourceType":"module"}