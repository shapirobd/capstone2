{"ast":null,"code":"var _jsxFileName = \"/Users/briand.shapiro/Desktop/Springboard/capstone2/front-end/src/components/user/EditProfileForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useStyles } from \"./styles/EditProfileFormStyles\";\nimport { TextField, Button } from \"@material-ui/core\";\nimport { editProfile } from \"../../actionCreators/userActionCreators\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst capitalize = text => {\n  return text.replace(\"_\", \" \").split(\" \").map(s => s.charAt(0).toUpperCase() + s.substring(1)).join(\" \");\n};\n\nconst EditProfileForm = ({\n  user,\n  setEditting\n}) => {\n  _s();\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const token = useSelector(state => state.token);\n  const [formData, setFormData] = useState({\n    first_name: user.first_name,\n    last_name: user.last_name,\n    email: user.email,\n    weight: user.weight,\n    weight_goal: user.weight_goal,\n    calorie_goal: user.calorie_goal,\n    profile_pic: user.profile_pic\n  });\n\n  const handleChange = evt => {\n    const {\n      name,\n      value,\n      files\n    } = evt.target;\n\n    if (files) {\n      let r = new FileReader();\n\n      r.onload = function () {\n        setFormData(formData => ({ ...formData,\n          [name]: r.result\n        }));\n      };\n\n      r.readAsBinaryString(files[0]);\n    } else {\n      setFormData(formData => ({ ...formData,\n        [name]: value\n      }));\n    }\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    console.log(formData);\n    dispatch(editProfile(user.username, {\n      _token: token,\n      data: formData\n    }));\n    setEditting(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [console.log(formData), /*#__PURE__*/_jsxDEV(TextField, {\n      type: \"file\",\n      variant: \"outlined\",\n      name: \"profile_pic\",\n      id: \"profile_pic\" // label=\"Profile Picture\"\n      // placeholder={formData[\"profile_pic\"]}\n      ,\n      className: classes.textField,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 4\n    }, this), Object.keys(user).map(key => key !== \"username\" && key !== \"bookmarks\" && key !== \"eatenMeals\" && key !== \"profile_pic\" ? /*#__PURE__*/_jsxDEV(TextField, {\n      variant: \"outlined\",\n      name: key,\n      id: key,\n      label: capitalize(key),\n      value: formData[key],\n      className: classes.textField,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 6\n    }, this) : null), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      className: classes.button,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: classes.backButton,\n      onClick: () => setEditting(false),\n      children: \"Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 3\n  }, this);\n};\n\n_s(EditProfileForm, \"zMdw13CGmZ7ogZfIZtvV122E87Y=\", false, function () {\n  return [useStyles, useDispatch, useSelector];\n});\n\n_c = EditProfileForm;\nexport default EditProfileForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProfileForm\");","map":{"version":3,"sources":["/Users/briand.shapiro/Desktop/Springboard/capstone2/front-end/src/components/user/EditProfileForm.js"],"names":["React","useState","useStyles","TextField","Button","editProfile","useDispatch","useSelector","capitalize","text","replace","split","map","s","charAt","toUpperCase","substring","join","EditProfileForm","user","setEditting","classes","dispatch","token","state","formData","setFormData","first_name","last_name","email","weight","weight_goal","calorie_goal","profile_pic","handleChange","evt","name","value","files","target","r","FileReader","onload","result","readAsBinaryString","handleSubmit","preventDefault","console","log","username","_token","data","textField","Object","keys","key","button","backButton"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useStyles } from \"./styles/EditProfileFormStyles\";\nimport { TextField, Button } from \"@material-ui/core\";\nimport { editProfile } from \"../../actionCreators/userActionCreators\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst capitalize = (text) => {\n\treturn text\n\t\t.replace(\"_\", \" \")\n\t\t.split(\" \")\n\t\t.map((s) => s.charAt(0).toUpperCase() + s.substring(1))\n\t\t.join(\" \");\n};\n\nconst EditProfileForm = ({ user, setEditting }) => {\n\tconst classes = useStyles();\n\tconst dispatch = useDispatch();\n\tconst token = useSelector((state) => state.token);\n\n\tconst [formData, setFormData] = useState({\n\t\tfirst_name: user.first_name,\n\t\tlast_name: user.last_name,\n\t\temail: user.email,\n\t\tweight: user.weight,\n\t\tweight_goal: user.weight_goal,\n\t\tcalorie_goal: user.calorie_goal,\n\t\tprofile_pic: user.profile_pic,\n\t});\n\n\tconst handleChange = (evt) => {\n\t\tconst { name, value, files } = evt.target;\n\t\tif (files) {\n\t\t\tlet r = new FileReader();\n\t\t\tr.onload = function () {\n\t\t\t\tsetFormData((formData) => ({\n\t\t\t\t\t...formData,\n\t\t\t\t\t[name]: r.result,\n\t\t\t\t}));\n\t\t\t};\n\t\t\tr.readAsBinaryString(files[0]);\n\t\t} else {\n\t\t\tsetFormData((formData) => ({\n\t\t\t\t...formData,\n\t\t\t\t[name]: value,\n\t\t\t}));\n\t\t}\n\t};\n\n\tconst handleSubmit = (evt) => {\n\t\tevt.preventDefault();\n\t\tconsole.log(formData);\n\t\tdispatch(editProfile(user.username, { _token: token, data: formData }));\n\t\tsetEditting(false);\n\t};\n\n\treturn (\n\t\t<form onSubmit={handleSubmit}>\n\t\t\t{console.log(formData)}\n\t\t\t<TextField\n\t\t\t\ttype=\"file\"\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tname=\"profile_pic\"\n\t\t\t\tid=\"profile_pic\"\n\t\t\t\t// label=\"Profile Picture\"\n\t\t\t\t// placeholder={formData[\"profile_pic\"]}\n\t\t\t\tclassName={classes.textField}\n\t\t\t\tonChange={handleChange}\n\t\t\t/>\n\t\t\t{Object.keys(user).map((key) =>\n\t\t\t\tkey !== \"username\" &&\n\t\t\t\tkey !== \"bookmarks\" &&\n\t\t\t\tkey !== \"eatenMeals\" &&\n\t\t\t\tkey !== \"profile_pic\" ? (\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tname={key}\n\t\t\t\t\t\tid={key}\n\t\t\t\t\t\tlabel={capitalize(key)}\n\t\t\t\t\t\tvalue={formData[key]}\n\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t/>\n\t\t\t\t) : null\n\t\t\t)}\n\t\t\t<Button type=\"submit\" className={classes.button}>\n\t\t\t\tSubmit\n\t\t\t</Button>\n\t\t\t<Button className={classes.backButton} onClick={() => setEditting(false)}>\n\t\t\t\tBack\n\t\t\t</Button>\n\t\t</form>\n\t);\n};\n\nexport default EditProfileForm;\n"]},"metadata":{},"sourceType":"module"}