{"ast":null,"code":"import axios from \"axios\";\nimport { LOGIN } from \"../actionTypes\";\nconst API_URL = \"http://localhost:5000\";\nexport const login = data => {\n  return async dispatch => {\n    try {\n      const loginResp = await axios.post(`${API_URL}/login`, data);\n      const {\n        token\n      } = resp.data;\n      const userResp = await axios.get(`${API_URL}/${data.username}`);\n      dispatch(loggedIn(token, data));\n    } catch (e) {\n      console.error(e);\n    }\n  };\n};\n\nconst loggedIn = (token, user) => {\n  const {\n    username\n  } = user;\n  return {\n    type: LOGIN,\n    payload: {\n      token,\n      user: {\n        username\n      }\n    }\n  };\n};","map":{"version":3,"sources":["/Users/briand.shapiro/Desktop/Springboard/capstone2/front-end/src/actionCreators/userActionCreators.js"],"names":["axios","LOGIN","API_URL","login","data","dispatch","loginResp","post","token","resp","userResp","get","username","loggedIn","e","console","error","user","type","payload"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,MAAMC,OAAO,GAAG,uBAAhB;AAEA,OAAO,MAAMC,KAAK,GAAIC,IAAD,IAAU;AAC9B,SAAO,MAAOC,QAAP,IAAoB;AAC1B,QAAI;AACH,YAAMC,SAAS,GAAG,MAAMN,KAAK,CAACO,IAAN,CAAY,GAAEL,OAAQ,QAAtB,EAA+BE,IAA/B,CAAxB;AACA,YAAM;AAAEI,QAAAA;AAAF,UAAYC,IAAI,CAACL,IAAvB;AACA,YAAMM,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAN,CAAW,GAAET,OAAQ,IAAGE,IAAI,CAACQ,QAAS,EAAtC,CAAvB;AACAP,MAAAA,QAAQ,CAACQ,QAAQ,CAACL,KAAD,EAAQJ,IAAR,CAAT,CAAR;AACA,KALD,CAKE,OAAOU,CAAP,EAAU;AACXC,MAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACA;AACD,GATD;AAUA,CAXM;;AAaP,MAAMD,QAAQ,GAAG,CAACL,KAAD,EAAQS,IAAR,KAAiB;AACjC,QAAM;AAAEL,IAAAA;AAAF,MAAeK,IAArB;AACA,SAAO;AACNC,IAAAA,IAAI,EAAEjB,KADA;AAENkB,IAAAA,OAAO,EAAE;AACRX,MAAAA,KADQ;AAERS,MAAAA,IAAI,EAAE;AACLL,QAAAA;AADK;AAFE;AAFH,GAAP;AASA,CAXD","sourcesContent":["import axios from \"axios\";\nimport { LOGIN } from \"../actionTypes\";\n\nconst API_URL = \"http://localhost:5000\";\n\nexport const login = (data) => {\n\treturn async (dispatch) => {\n\t\ttry {\n\t\t\tconst loginResp = await axios.post(`${API_URL}/login`, data);\n\t\t\tconst { token } = resp.data;\n\t\t\tconst userResp = await axios.get(`${API_URL}/${data.username}`);\n\t\t\tdispatch(loggedIn(token, data));\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t}\n\t};\n};\n\nconst loggedIn = (token, user) => {\n\tconst { username } = user;\n\treturn {\n\t\ttype: LOGIN,\n\t\tpayload: {\n\t\t\ttoken,\n\t\t\tuser: {\n\t\t\t\tusername,\n\t\t\t},\n\t\t},\n\t};\n};\n"]},"metadata":{},"sourceType":"module"}