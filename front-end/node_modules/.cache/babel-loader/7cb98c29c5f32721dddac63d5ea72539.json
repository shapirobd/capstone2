{"ast":null,"code":"const INITIAL_STATE = {\n  feed: [],\n  page: 1,\n  countPerPage: 40,\n  totalResults: null,\n  user: null,\n  filtered: false,\n  currentRecipe: null,\n  isIngredientBased: false\n};\n\nconst rootReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case \"LOAD_FEED\":\n      {\n        const {\n          recipes,\n          totalResults,\n          page\n        } = action.payload;\n        return { ...state,\n          feed: recipes,\n          totalResults,\n          page,\n          isIngredientBased: false\n        };\n      }\n\n    case \"FILTER_FEED\":\n      {\n        const {\n          recipes,\n          totalResults,\n          page\n        } = action.payload;\n        return { ...state,\n          feed: recipes,\n          totalResults,\n          page,\n          isIngredientBased: false\n        };\n      }\n\n    case \"FILTER_BY_INGREDIENTS\":\n      {\n        const {\n          recipes,\n          totalResults\n        } = action.payload;\n        return { ...state,\n          page: 1,\n          feed: recipes,\n          totalResults,\n          isIngredientBased: true\n        };\n      }\n\n    case \"CHANGE_PAGE\":\n      {\n        return { ...state,\n          page: action.payload\n        };\n      }\n\n    case \"LOAD_RECIPE\":\n      {\n        const {\n          currentRecipe\n        } = action.payload;\n        return { ...state,\n          currentRecipe\n        };\n      }\n\n    case \"LOGIN\":\n      {\n        const {\n          user,\n          token\n        } = action.payload;\n        return { ...state,\n          user,\n          token\n        };\n      }\n\n    case \"LOGOUT\":\n      {\n        return INITIAL_STATE;\n      }\n\n    case \"EDIT_PROFILE\":\n      {\n        const {\n          user\n        } = action.payload;\n        return { ...state,\n          user: { ...user,\n            profile_pic: new File(user.profile_pic)\n          }\n        };\n      }\n\n    case \"BOOKMARK_RECIPE\":\n      {\n        const {\n          recipeId\n        } = action.payload;\n        return { ...state,\n          user: { ...state.user,\n            bookmarks: [...state.user.bookmarks, recipeId]\n          }\n        };\n      }\n\n    case \"UNBOOKMARK_RECIPE\":\n      {\n        const {\n          recipeId\n        } = action.payload;\n        return { ...state,\n          user: { ...state.user,\n            bookmarks: state.user.bookmarks.filter(bookmark => bookmark !== recipeId)\n          }\n        };\n      }\n\n    case \"ADD_EATEN_MEAL\":\n      {\n        const {\n          date,\n          meal\n        } = action.payload;\n        const {\n          id,\n          calories,\n          fat,\n          carbs,\n          protein\n        } = meal;\n        return { ...state,\n          user: { ...state.user,\n            eatenMeals: { ...state.user.eatenMeals,\n              [date]: state.user.eatenMeals[date] ? [...state.user.eatenMeals[date], {\n                id,\n                calories,\n                fat,\n                carbs,\n                protein\n              }] : [{\n                id,\n                calories,\n                fat,\n                carbs,\n                protein\n              }]\n            }\n          }\n        };\n      }\n\n    case \"REMOVE_EATEN_MEAL\":\n      {\n        const {\n          recipeId,\n          date\n        } = action.payload;\n        return { ...state,\n          user: { ...state.user,\n            eatenMeals: { ...state.user.eatenMeals,\n              [date]: state.user.eatenMeals[date].filter(meal => meal.id !== recipeId)\n            }\n          }\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexport default rootReducer;","map":{"version":3,"sources":["/Users/briand.shapiro/Desktop/Springboard/capstone2/front-end/src/reducers/rootReducer.js"],"names":["INITIAL_STATE","feed","page","countPerPage","totalResults","user","filtered","currentRecipe","isIngredientBased","rootReducer","state","action","type","recipes","payload","token","profile_pic","File","recipeId","bookmarks","filter","bookmark","date","meal","id","calories","fat","carbs","protein","eatenMeals"],"mappings":"AAAA,MAAMA,aAAa,GAAG;AACrBC,EAAAA,IAAI,EAAE,EADe;AAErBC,EAAAA,IAAI,EAAE,CAFe;AAGrBC,EAAAA,YAAY,EAAE,EAHO;AAIrBC,EAAAA,YAAY,EAAE,IAJO;AAKrBC,EAAAA,IAAI,EAAE,IALe;AAMrBC,EAAAA,QAAQ,EAAE,KANW;AAOrBC,EAAAA,aAAa,EAAE,IAPM;AAQrBC,EAAAA,iBAAiB,EAAE;AARE,CAAtB;;AAWA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGV,aAAT,EAAwBW,MAAxB,KAAmC;AACtD,UAAQA,MAAM,CAACC,IAAf;AACC,SAAK,WAAL;AAAkB;AACjB,cAAM;AAAEC,UAAAA,OAAF;AAAWT,UAAAA,YAAX;AAAyBF,UAAAA;AAAzB,YAAkCS,MAAM,CAACG,OAA/C;AACA,eAAO,EACN,GAAGJ,KADG;AAENT,UAAAA,IAAI,EAAEY,OAFA;AAGNT,UAAAA,YAHM;AAINF,UAAAA,IAJM;AAKNM,UAAAA,iBAAiB,EAAE;AALb,SAAP;AAOA;;AACD,SAAK,aAAL;AAAoB;AACnB,cAAM;AAAEK,UAAAA,OAAF;AAAWT,UAAAA,YAAX;AAAyBF,UAAAA;AAAzB,YAAkCS,MAAM,CAACG,OAA/C;AACA,eAAO,EACN,GAAGJ,KADG;AAENT,UAAAA,IAAI,EAAEY,OAFA;AAGNT,UAAAA,YAHM;AAINF,UAAAA,IAJM;AAKNM,UAAAA,iBAAiB,EAAE;AALb,SAAP;AAOA;;AACD,SAAK,uBAAL;AAA8B;AAC7B,cAAM;AAAEK,UAAAA,OAAF;AAAWT,UAAAA;AAAX,YAA4BO,MAAM,CAACG,OAAzC;AACA,eAAO,EACN,GAAGJ,KADG;AAENR,UAAAA,IAAI,EAAE,CAFA;AAGND,UAAAA,IAAI,EAAEY,OAHA;AAINT,UAAAA,YAJM;AAKNI,UAAAA,iBAAiB,EAAE;AALb,SAAP;AAOA;;AACD,SAAK,aAAL;AAAoB;AACnB,eAAO,EAAE,GAAGE,KAAL;AAAYR,UAAAA,IAAI,EAAES,MAAM,CAACG;AAAzB,SAAP;AACA;;AACD,SAAK,aAAL;AAAoB;AACnB,cAAM;AAAEP,UAAAA;AAAF,YAAoBI,MAAM,CAACG,OAAjC;AACA,eAAO,EAAE,GAAGJ,KAAL;AAAYH,UAAAA;AAAZ,SAAP;AACA;;AACD,SAAK,OAAL;AAAc;AACb,cAAM;AAAEF,UAAAA,IAAF;AAAQU,UAAAA;AAAR,YAAkBJ,MAAM,CAACG,OAA/B;AACA,eAAO,EAAE,GAAGJ,KAAL;AAAYL,UAAAA,IAAZ;AAAkBU,UAAAA;AAAlB,SAAP;AACA;;AACD,SAAK,QAAL;AAAe;AACd,eAAOf,aAAP;AACA;;AACD,SAAK,cAAL;AAAqB;AACpB,cAAM;AAAEK,UAAAA;AAAF,YAAWM,MAAM,CAACG,OAAxB;AAEA,eAAO,EACN,GAAGJ,KADG;AAENL,UAAAA,IAAI,EAAE,EACL,GAAGA,IADE;AAELW,YAAAA,WAAW,EAAE,IAAIC,IAAJ,CAASZ,IAAI,CAACW,WAAd;AAFR;AAFA,SAAP;AAOA;;AACD,SAAK,iBAAL;AAAwB;AACvB,cAAM;AAAEE,UAAAA;AAAF,YAAeP,MAAM,CAACG,OAA5B;AACA,eAAO,EACN,GAAGJ,KADG;AAENL,UAAAA,IAAI,EAAE,EACL,GAAGK,KAAK,CAACL,IADJ;AAELc,YAAAA,SAAS,EAAE,CAAC,GAAGT,KAAK,CAACL,IAAN,CAAWc,SAAf,EAA0BD,QAA1B;AAFN;AAFA,SAAP;AAOA;;AACD,SAAK,mBAAL;AAA0B;AACzB,cAAM;AAAEA,UAAAA;AAAF,YAAeP,MAAM,CAACG,OAA5B;AACA,eAAO,EACN,GAAGJ,KADG;AAENL,UAAAA,IAAI,EAAE,EACL,GAAGK,KAAK,CAACL,IADJ;AAELc,YAAAA,SAAS,EAAET,KAAK,CAACL,IAAN,CAAWc,SAAX,CAAqBC,MAArB,CACTC,QAAD,IAAcA,QAAQ,KAAKH,QADjB;AAFN;AAFA,SAAP;AASA;;AACD,SAAK,gBAAL;AAAuB;AACtB,cAAM;AAAEI,UAAAA,IAAF;AAAQC,UAAAA;AAAR,YAAiBZ,MAAM,CAACG,OAA9B;AACA,cAAM;AAAEU,UAAAA,EAAF;AAAMC,UAAAA,QAAN;AAAgBC,UAAAA,GAAhB;AAAqBC,UAAAA,KAArB;AAA4BC,UAAAA;AAA5B,YAAwCL,IAA9C;AACA,eAAO,EACN,GAAGb,KADG;AAENL,UAAAA,IAAI,EAAE,EACL,GAAGK,KAAK,CAACL,IADJ;AAELwB,YAAAA,UAAU,EAAE,EACX,GAAGnB,KAAK,CAACL,IAAN,CAAWwB,UADH;AAEX,eAACP,IAAD,GAAQZ,KAAK,CAACL,IAAN,CAAWwB,UAAX,CAAsBP,IAAtB,IACL,CACA,GAAGZ,KAAK,CAACL,IAAN,CAAWwB,UAAX,CAAsBP,IAAtB,CADH,EAEA;AAAEE,gBAAAA,EAAF;AAAMC,gBAAAA,QAAN;AAAgBC,gBAAAA,GAAhB;AAAqBC,gBAAAA,KAArB;AAA4BC,gBAAAA;AAA5B,eAFA,CADK,GAKL,CAAC;AAAEJ,gBAAAA,EAAF;AAAMC,gBAAAA,QAAN;AAAgBC,gBAAAA,GAAhB;AAAqBC,gBAAAA,KAArB;AAA4BC,gBAAAA;AAA5B,eAAD;AAPQ;AAFP;AAFA,SAAP;AAeA;;AACD,SAAK,mBAAL;AAA0B;AACzB,cAAM;AAAEV,UAAAA,QAAF;AAAYI,UAAAA;AAAZ,YAAqBX,MAAM,CAACG,OAAlC;AACA,eAAO,EACN,GAAGJ,KADG;AAENL,UAAAA,IAAI,EAAE,EACL,GAAGK,KAAK,CAACL,IADJ;AAELwB,YAAAA,UAAU,EAAE,EACX,GAAGnB,KAAK,CAACL,IAAN,CAAWwB,UADH;AAEX,eAACP,IAAD,GAAQZ,KAAK,CAACL,IAAN,CAAWwB,UAAX,CAAsBP,IAAtB,EAA4BF,MAA5B,CACNG,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYN,QADf;AAFG;AAFP;AAFA,SAAP;AAYA;;AACD;AAAS;AACR,eAAOR,KAAP;AACA;AAlHF;AAoHA,CArHD;;AAuHA,eAAeD,WAAf","sourcesContent":["const INITIAL_STATE = {\n\tfeed: [],\n\tpage: 1,\n\tcountPerPage: 40,\n\ttotalResults: null,\n\tuser: null,\n\tfiltered: false,\n\tcurrentRecipe: null,\n\tisIngredientBased: false,\n};\n\nconst rootReducer = (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase \"LOAD_FEED\": {\n\t\t\tconst { recipes, totalResults, page } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfeed: recipes,\n\t\t\t\ttotalResults,\n\t\t\t\tpage,\n\t\t\t\tisIngredientBased: false,\n\t\t\t};\n\t\t}\n\t\tcase \"FILTER_FEED\": {\n\t\t\tconst { recipes, totalResults, page } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfeed: recipes,\n\t\t\t\ttotalResults,\n\t\t\t\tpage,\n\t\t\t\tisIngredientBased: false,\n\t\t\t};\n\t\t}\n\t\tcase \"FILTER_BY_INGREDIENTS\": {\n\t\t\tconst { recipes, totalResults } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpage: 1,\n\t\t\t\tfeed: recipes,\n\t\t\t\ttotalResults,\n\t\t\t\tisIngredientBased: true,\n\t\t\t};\n\t\t}\n\t\tcase \"CHANGE_PAGE\": {\n\t\t\treturn { ...state, page: action.payload };\n\t\t}\n\t\tcase \"LOAD_RECIPE\": {\n\t\t\tconst { currentRecipe } = action.payload;\n\t\t\treturn { ...state, currentRecipe };\n\t\t}\n\t\tcase \"LOGIN\": {\n\t\t\tconst { user, token } = action.payload;\n\t\t\treturn { ...state, user, token };\n\t\t}\n\t\tcase \"LOGOUT\": {\n\t\t\treturn INITIAL_STATE;\n\t\t}\n\t\tcase \"EDIT_PROFILE\": {\n\t\t\tconst { user } = action.payload;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuser: {\n\t\t\t\t\t...user,\n\t\t\t\t\tprofile_pic: new File(user.profile_pic),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t\tcase \"BOOKMARK_RECIPE\": {\n\t\t\tconst { recipeId } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuser: {\n\t\t\t\t\t...state.user,\n\t\t\t\t\tbookmarks: [...state.user.bookmarks, recipeId],\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t\tcase \"UNBOOKMARK_RECIPE\": {\n\t\t\tconst { recipeId } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuser: {\n\t\t\t\t\t...state.user,\n\t\t\t\t\tbookmarks: state.user.bookmarks.filter(\n\t\t\t\t\t\t(bookmark) => bookmark !== recipeId\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t\tcase \"ADD_EATEN_MEAL\": {\n\t\t\tconst { date, meal } = action.payload;\n\t\t\tconst { id, calories, fat, carbs, protein } = meal;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuser: {\n\t\t\t\t\t...state.user,\n\t\t\t\t\teatenMeals: {\n\t\t\t\t\t\t...state.user.eatenMeals,\n\t\t\t\t\t\t[date]: state.user.eatenMeals[date]\n\t\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t\t...state.user.eatenMeals[date],\n\t\t\t\t\t\t\t\t\t{ id, calories, fat, carbs, protein },\n\t\t\t\t\t\t\t  ]\n\t\t\t\t\t\t\t: [{ id, calories, fat, carbs, protein }],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t\tcase \"REMOVE_EATEN_MEAL\": {\n\t\t\tconst { recipeId, date } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuser: {\n\t\t\t\t\t...state.user,\n\t\t\t\t\teatenMeals: {\n\t\t\t\t\t\t...state.user.eatenMeals,\n\t\t\t\t\t\t[date]: state.user.eatenMeals[date].filter(\n\t\t\t\t\t\t\t(meal) => meal.id !== recipeId\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n};\n\nexport default rootReducer;\n"]},"metadata":{},"sourceType":"module"}